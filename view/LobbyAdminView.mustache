<main>
    <div class="container">
        <p class="text-center mb-3 fs-1 fw-bold">Panel de AdministraciÃ³n</p>
        <p class="text-center mb-5" style="color: #6f6f6f">EstadÃ­sticas y mÃ©tricas generales del sistema de trivia</p>

        <!-- Filtro -->
        <div class="d-flex justify-content-center mb-4">
            <select id="selector-fecha-filtro" class="select-personalizado w-auto me-2 rounded-pill px-5" aria-label="Filtrar por">
                <option value="dia">DÃ­a</option>
                <option value="semana">Semana</option>
                <option value="mes" selected>Mes</option>
                <option value="anio">AÃ±o</option>
            </select>
        </div>

        <!-- Fila 1: Jugadores, Total partidas, Usuarios nuevos -->
        <div class="row row-cols-1 row-cols-md-3 g-4 text-center mb-4">
            <div class="col">
                <div class="panel">
                    <div class="icono"><img src="/public/imagenesUsuarios/default.png" style="width: 60px"></div>
                    <h5 class="fs-5 text-success mb-4">Jugadores</h5>
                    <p>3000</p>
                </div>
            </div>
            <div class="col">
                <div class="panel">
                    <h5 class="fs-5 text-success mb-4">Total partidas jugadas</h5>
                    <div id="grafico-partidas" style="height: 300px; width: 100%;"></div>

                </div>
            </div>
            <div class="col">
                <div class="panel">
                    <div class="icono">ðŸ‘¥</div>
                    <h5 class="fs-5 text-success mb-4">Usuarios nuevos</h5>
                    <div id="grafico-usuarios-nuevos" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
        </div>

        <!-- Fila 2: Usuarios por paÃ­s, sexo, edad -->
        <div class="row row-cols-1 row-cols-md-3 g-4 text-center mb-4">
            <div class="col">
                <div class="panel">
                    <h5 class="fs-5 text-success mb-4">Usuarios por paÃ­s</h5>
                    <p>ðŸ‡®ðŸ‡¹ 5 &nbsp;&nbsp; ðŸ‡§ðŸ‡· 100</p>
                    <p>ðŸ‡ªðŸ‡¸ 30 &nbsp;&nbsp; ðŸ‡¦ðŸ‡· 500</p>
                </div>
            </div>
            <div class="col">
                <div class="panel" style="width: 100%">
                    <h5 class="fs-5 text-success mb-4">Usuarios por sexo</h5>
                    <script>
                        window.datosGraficoSexo = JSON.parse('{{{datosSexoJSON}}}');
                    </script>
                    <div id="grafico-sexo" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
            <div class="col">
                <div class="panel">
                    <h5 class="fs-5 text-success mb-4">Usuarios por grupo de edad</h5>
                    <script>
                        window.datosGraficoEdad = JSON.parse('{{{datosEdadJSON}}}');
                    </script>
                    <div id="grafico-edad" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
        </div>

        <!-- Fila 3: Preguntas, Preguntas creadas, Preguntas respondidas -->
        <div class="row row-cols-1 row-cols-md-3 g-4 text-center mb-3">
            <div class="col">
                <div class="panel" style="width: 100%">
                    <div class="d-flex justify-content-center align-items-center mb-5">
                        <img src="/public/img/iconoPartida.png" style="width: 25px; height: auto; margin-right: 8px;">
                        <h5 class="mb-0 fs-3 text-success">Preguntas</h5>
                    </div>

                    <select id="selector-tipo" class="select-personalizado mb-3" style="max-width: 250px; margin: 0 auto;">
                        <option class="fs-6" value="categoria" selected>Por categorÃ­a</option>
                        <option  value="dificultad">Por dificultad</option>
                    </select>
                    <script>
                        window.datosPreguntasPorCategoria = JSON.parse('{{{datosPreguntasCategoriaJSON}}}');
                        window.datosPreguntasPorDificultad = JSON.parse('{{{datosPreguntasDificultadJSON}}}');
                    </script>

                    <div id="grafico-preguntas" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
            <div class="col">
                <div class="panel">
                    <div class="d-flex justify-content-center align-items-center mb-4">
                        <div class="icono"><img src="/public/img/LogoSec.png" style="width: 55px"></div>
                        <h5 class="fs-5 text-success mb-4 mt-3">Preguntas creadas</h5>
                    </div>
                    <script>
                        window.datosPreguntasCreadas = JSON.parse('{{{datosPreguntasCreadasJSON}}}');
                    </script>

                    <div id="grafico-preguntas-creadas"  class="mb-4" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
            <div class="col">
                <div class="panel">
                    <h5 class="fs-5 text-success mb-4">Preguntas respondidas</h5>
                    <script>
                        window.datosGraficoRespuestas = JSON.parse('{{{datosRespondidasJSON}}}');
                    </script>
                    <div id="grafico-respuestas" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
        </div>

        <!-- Botones Descargar / Imprimir -->
        <div class="row justify-content-center mb-5">
            <div class="col-auto">
                <button class="descargar-btn">Descargar</button>
            </div>
            <div class="col-auto">
                <button class="imprimir-btn">Imprimir</button>
            </div>
        </div>

    </div>


</main>

<!-- Scripts -->
<script src="/public/Js/GraficoPorSexo.js"></script>
<script src="/public/Js/GraficoPorEdad.js"></script>
<script src="/public/Js/GraficoPorRespuestas.js"></script>
<script src="/public/Js/GraficoPorPreguntas.js"></script>
<script src="/public/Js/GraficoPreguntasCreadas.js"></script>
<script src="../public/Js/GraficosFiltroSelect.js"></script>
